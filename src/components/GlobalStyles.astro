---
import Config from '@/store/config'
const primaryColor = Config.getConfig().primaryColor
---
<script define:vars={{primaryColor}}>
    const r = document.querySelector(':root')
    r.style.setProperty('--colorTheme', String(primaryColor))
    r.style.setProperty('--colorThemeBg', String(primaryColor + 20))
</script>

<style lang="scss">
@function white($l:100){
    @return hsl(var(--colorTheme) 0% $l * 1%); 
}

@function black($l:0){
    @return hsl(var(--colorTheme) 0%  $l * 1%); 
}

@function ct($l:50){
    @return hsl(var(--colorTheme) 100% $l * 1%); 
}

:root{

    // =========== Base ===========
    --colorTheme: 200;
    --colorThemeBg: 220;
    --font-mask-color: #{white(85)};
    --font-mask-sub-color: #{white(75)};
    --bg-mask-color: hsl(200 0 0 / 0.25); 

    // =========== Light Mode ===========
    --primary: #{ct()};
    --primary-light: #{ct(80)};
    --primary-dark: #{ct(38)};
    --menu-item-bg: hsl(var(--colorTheme), 40%,95%);
    --menu-item-bg-active: #{ct(90)};
    --background-color: hsl(var(--colorThemeBg), 40%,95%);
    --card-background-color: #{white()};
    --nav-background-color: #{white()};
    --font-color: #{black()};
    --sub-font-color: #{black(50)};
    --font-quote-color: #{black(60)};
    --font-quote-source-color: #{black(50)};
    --inline-code-bg-color: #{ct(97)};
    --inline-code-text-color: #{ct(44)};
    --card-hover-bg-color: #{black(95)};
    --paginator-item-hover-bg-color: hsl(var(--colorThemeBg), 40%,98%);

    transition: all 0.6s ease; 
}

:root.dark {
    --primary: #{ct(48)};
    --primary-light: #{ct(50)};
    --primary-dark: #{ct(35)};
    --menu-item-bg: hsl(var(--colorThemeBg), 40%,10%);
    --menu-item-bg-active: #{ct(40)};
    --background-color: #{black(10)};
    --card-background-color: hsl(var(--colorThemeBg), 15%,15%);
    --nav-background-color: hsl(var(--colorThemeBg), 15%,15%);
    --font-color: #{white(90)};
    --sub-font-color: #{white(70)};
    --font-quote-color: #{black(60)};
    --font-quote-source-color: #{black(50)};
    --inline-code-bg-color: #{ct(12)};
    --inline-code-text-color: #{ct(40)};
    --card-hover-bg-color: #{black(5)};
    --paginator-item-hover-bg-color: #{ct(12)};
}

// :root.light {
//     --primary: #{ct()};
//     --primary-light: #{ct(80)};
//     --primary-dark: #{ct(38)};
//     --menu-item-bg: hsl(var(--colorTheme), 40%,95%);
//     --menu-item-bg-active: #{ct(90)};
//     --background-color: hsl(var(--colorThemeBg), 40%,95%);
//     --card-background-color: #{white()};
//     --nav-background-color: #{white()};
//     --font-color: #{black()};
//     --sub-font-color: #{black(50)};
//     --font-quote-color: #{black(60)};
//     --font-quote-source-color: #{black(50)};
//     --inline-code-bg-color: #{ct(97)};
//     --inline-code-text-color: #{ct(44)};
// }


html {
    font-family: system-ui, sans-serif;
    background: var(--background-color);
    color: var(--font-color);
}

code {
    font-family:
        Menlo,
        Monaco,
        Lucida Console,
        Liberation Mono,
        DejaVu Sans Mono,
        Bitstream Vera Sans Mono,
        Courier New,
        monospace;
}
</style>

<style is:global>
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components{
    .card-width{
        @apply w-11/12 md:w-3/4 xl:w-2/3 2xl:w-1/2
    }

    .card-style{
        @apply bg-[--card-background-color] rounded-2xl shadow-sm
    }
}
</style>